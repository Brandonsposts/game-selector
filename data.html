<!doctype html>
<html>
<!-- comment -->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="author" content="co-authored by Brandon Post, Chase Terry">
    <title>Game Selector</title>
    
    <!-- JQuery Mobile Setup -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.0.1/jquery.mobile-1.0.1.min.css" />
    <script src="http://code.jquery.com/jquery-1.6.4.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.0.1/jquery.mobile-1.0.1.min.js"></script>
    <!-- End JQuery Mobile Setup -->

    <script>
      //javascript
      
      var games = [];
      
      function game(name, isBoard){ //, isCard, categoryArray, minPlayers, maxPlayers, appletArray){
        this.name = name;
        this.isBoard = isBoard;
        //this.isCard = isCard;
       // this.minPlayers = minPlayers;
        //this.maxPlayers = maxPlayers;
        //this.appletArray = appletArray;
      }
      
      function addToDatabase(object){
        alert("add");
        games.push(object);
        alert("done add");
      }
      
      function dataInput(){
        alert("Data input");
        var name = document.getElementById("game-name").value;
        alert("name: "+ name);
        var isBoard = !!(document.getElementById("board-or-card").value);
        alert("board: "+isBoard);
        //var isCard = !(document.getElementById("board-or-card").value);
        //var catArray = [document.getElementById("strategy").value, document.getElementById("action").value;];
        //var min = document.getElementById("min-players").value;
        //var max = document.getElementById("max-players").value;
        //var appArray = [document.getElementById("dice").value, document.getElementById("starting-player").value;];
        var game1 = new game(name);//, isBoard, isCard, catArray, min, max, appArray);
        addToDatabase(game1);
        alert("data input over");
        alert(games[0].isBoard);
        alert(isBoard);
        //alert(isCard);
        //alert(catArray);
        //alert(min);
        //alert(max);
        //alert(appArray);
      }
      
      //All testing
      function clickCounter(){
        alert("Still broken");
        if(hasLocalStorage()){
          if(localStorage.clickcount){
            alert("next");
            localStorage.clickcount = Number(localStorage.clickcount)+1;
          } 
          else{
            alert("first");
            localStorage.clickcount = 1;
          }
          document.getElementById("clickcount-data").innerHTML = "You have clicked the button " + localStorage.clickcount + " time(s).";
        }
        else{
          alert("No HTML5 Local Storage");
        }
        alert("pass through");
      }
      
      function hasLocalStorage(){
        if(typeof(Storage) !== "undefined"){
          //has local storage
          return true;
        }
        else{
          //does not have local storage
          return false;
        }
      }
      /*
      $(document).on("pageshow","#data",function(){
        if(hasLocalStorage()){
          if(localStorage.clickcount){
          } 
          else{
            localStorage.clickcount = 0;
          }
          document.getElementById("clickcount-data").innerHTML = "You have clicked the button " + localStorage.clickcount + " time(s).";
          alert("show");
        }
        else{
          alert("No HTML5 Local Storage");
        }
        });
        */
        //end testing
    </script>
  </head>
  <body>
    <!-- main html -->
    <div data-role="page" id="#data">
      <div data-role="header">
        <h1>My Title</h1>
      </div><!-- /header -->
      
      <div data-role="navbar" class="header">
        <ul>
          <li><a href="data.html" data-transition="fade">Data</a></li>
          <li><a href="index.html" data-transition="fade">Home</a></li>
          <li><a href="extras.html" data-transition="fade">Extras</a></li>
        </ul>
      </div> <!-- navbar -->
      
      
      <div data-role="main" class="ui-content" align="center">
        <!--
        <h3>Local Storage testing</h3>
        <p id="clickcount-data">Hello</p>
        <p><a data-role="button" data-inline="true" onclick="clickCounter();">Increase Counter!</a></p>   
        -->
        <form>
          <h1>Game Input:</h1>
          <label for="game-name">Name of Game:</label>
          <input type="text" name="game-name" id="game-name" data-clear-btn="true">
          <label for="board-or-card">Board or Card game:</label>
            <select name="slider" id="board-or-card" data-role="slider">
              <option value="board">Board</option>
              <option value="card">Card</option>
            </select>
          <fieldset data-role="controlgroup">
            <legend>Select All Categories:</legend>
            <label for="strategy">Strategy</label>
            <input type="checkbox" name="strategy" id="strategy" value="true">
            <label for="action">Action</label>
            <input type="checkbox" name="action" id="action" value="true">
          </fieldset>
          <label for="min-players">Minimum number of players:</label>
          <input type="range" name="min-players" id="min-players" min="1" max="10" value="2">
          <label for="max-players">Maximum number of players:</label>
          <input type="range" name="max-players" id="max-players" min="1" max="15" value="4">
          <fieldset data-role="controlgroup">
            <legend>Associated Applets:</legend>
            <label for="dice">Dice</label>
            <input type="checkbox" name="dice" id="dice" value="true">
            <label for="starting-player">Starting player selector</label>
            <input type="checkbox" name="starting-player" id="starting-player" value="true">
          </fieldset>
          <input type="submit" value="Submit" data-icon="check" data-iconpos="right" data-inline="true">
        </form>
        <a data-role="button" onclick="dataInput();">Submit2</a>
      </div><!-- /content -->
    </div><!-- /page -->
  </body>
</html>
